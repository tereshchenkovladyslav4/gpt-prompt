<form class="p-4 pb-2" [formGroup]="infoForm" (ngSubmit)="submitForm()" autocomplete="off" novalidate>
  <div fxLayout="row" fxLayoutAlign="space-between center">
    <h2 mat-dialog-title>Add billing method</h2>
    <button mat-icon-button mat-dialog-close tabindex="-1"><mat-icon>close</mat-icon></button>
  </div>

  <mat-dialog-content>
    <p class="billing-method__title mb-3">Billing method information</p>
    <div class="billing-method__row mb-5">
      <div class="billing-method__item w-100 mb-4" style="width: 306px">
        <label class="label-title">Card number</label>
        <div class="input-wrapper">
          <div class="input" id="card-element" style="width: 306px"></div>
        </div>
      </div>
      <div class="d-flex gap-3">
        <div class="billing-method__item">
          <label class="label-title">expiry date</label>
          <div class="input-wrapper">
            <div class="input" style="width: 178px" id="card-expiry"></div>
          </div>
        </div>
        <div class="billing-method__item">
          <label class="label-title">CCV</label>
          <div class="input-wrapper">
            <div class="input" style="width: 178px" id="card-cvc"></div>
          </div>
        </div>
      </div>
    </div>

    <p class="billing-method__title mb-3">Billing address</p>
    <div class="d-flex flex-column w-100">
      <div class="d-flex w-100 gap-3">
        <mat-form-field appearance="outline" class="flex-grow-1">
          <mat-label>First name</mat-label>
          <input type="text" matInput formControlName="firstName" required />
          <mat-error *ngIf="checkError(infoForm, 'firstName', ['required', 'blank'])"> Required. </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="flex-grow-1">
          <mat-label>Last name</mat-label>
          <input type="text" matInput formControlName="lastName" required />
          <mat-error *ngIf="checkError(infoForm, 'lastName', ['required', 'blank'])"> Required. </mat-error>
        </mat-form-field>
      </div>
      <mat-form-field appearance="outline">
        <mat-label>Street and number</mat-label>
        <input type="text" matInput formControlName="address1" required />
        <mat-error *ngIf="checkError(infoForm, 'address1', ['required', 'blank'])"> Required. </mat-error>
      </mat-form-field>
      <div class="d-flex w-100 gap-3">
        <mat-form-field appearance="outline" class="flex-grow-1">
          <mat-label>Zip/postal code</mat-label>
          <input type="text" matInput formControlName="zip" required />
          <mat-error *ngIf="checkError(infoForm, 'zip', ['required', 'blank'])"> Required. </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="flex-grow-1">
          <mat-label>City</mat-label>
          <input type="text" matInput formControlName="city" required />
          <mat-error *ngIf="checkError(infoForm, 'city', ['required', 'blank'])"> Required. </mat-error>
        </mat-form-field>
      </div>
      <mat-form-field appearance="outline">
        <mat-label>State</mat-label>
        <input type="text" matInput formControlName="state" required />
        <mat-error *ngIf="checkError(infoForm, 'state', ['required', 'blank'])"> Required. </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Country</mat-label>
        <input type="text" matInput formControlName="selectedCountry" required />
        <mat-error *ngIf="checkError(infoForm, 'selectedCountry', ['required', 'blank'])"> Required. </mat-error>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions fxLayout="row" fxLayoutAlign="end center">
    <button mat-raised-button mat-dialog-close tabindex="-1">Cancel</button>
    <button mat-raised-button color="accent" [disabled]="submitted" type="submit">Submit</button>
  </mat-dialog-actions>
</form>
